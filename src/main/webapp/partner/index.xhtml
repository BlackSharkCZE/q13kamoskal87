<?xml version="1.0" encoding="UTF-8"?>
<!--
  Created by IntelliJ IDEA.
  User: blackshark
  Date: 25.7.11
  Time: 14:07
-->
<!DOCTYPE html
		PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
		"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core">

<h:head>
	<title><h:outputText value="#{message['web_title']}"/></title>
</h:head>

<h:body>

	<ui:composition template="/WEB-INF/templates/partner_template.xhtml">

		<ui:define name="content">


			<div class="main_menu_bar">
				<ul class="main_menu">
					<li class="item current">
						<h:outputLink value="">
							<h:outputText value="#{message['partner.menu.home-page']}"/>
						</h:outputLink>
					</li>
					<li class="item">
						<h:outputLink value="">
							<h:outputText value="#{message['partner.menu.sponzored-tips']}"/>
						</h:outputLink>
					</li>
					<li class="item">
						<h:outputLink value="">
							<h:outputText value="#{message['partner.menu.account']}"/>
						</h:outputLink>
					</li>
					<li class="item">
						<h:outputLink value="">
							<h:outputText value="#{message['partner.menu.payments']}"/>
						</h:outputLink>
					</li>
					<li class="item last">
						<h:outputLink value="">
							<h:outputText value="#{message['partner.menu-notification']}"/>
						</h:outputLink>
					</li>
				</ul>
			</div>


			<div class="system-message-spacer">
				<div class="system-message">
					<p>
						Reklamy v sadě: Sada reklam1 se nezobrazují. Důvod: zálohová faktura č. PK2478556 není uhrazena.
					</p>
				</div>
			</div>

			<h:form>

				<div class="notification-spacer">


					<p:messages id="errors"/>

					<div class="notification">
						<div class="header">
							<table>
								<tr>
									<th class="left">
										<h:outputText value="#{message['notification']}"/> (0/2)
									</th>
									<th class="right">
										<p:commandLink value="#{message['show-all-notification']}"/>
									</th>
								</tr>
							</table>
						</div>
						<div class="content">
							<table>
								<tr>
									<td class="left">12.9.2012</td>
									<td class="right">
										<p:commandLink value="Byla vám vystavena zálohová faktura č PK2478556" action="null"/>
										- Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent dictum
									</td>
								</tr>
								<tr>
									<td class="left">19.9.2012</td>
									<td class="right">Vítejte v partnerském portálu Kámoška.cz - Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent dictum convallis</td>
								</tr>
							</table>
						</div>
					</div>

				</div>

				<h:panelGroup id="bundle-list">
					<ui:repeat value="#{loggedInPartner.partner.advertBundleEntityList}" var="bundle">


						<div class="advert">
							<div class="header">
								<table>
									<tr>
										<td class="left">
											<p:inplace editor="true">
												<p:inputText value="#{bundle.name}" required="true" requiredMessage="#{message['bundle.name.required']}"/>
												<p:ajax event="save" listener="#{advertBundleController.updateBundleName(bundle)}"/>
											</p:inplace>
										</td>
										<td class="right">

											<h:panelGroup rendered="#{bundle.validTo!=null}">
												<h:outputText value="#{message['valid-until']}"/>
												<h:outputText value="#{bundle.validTo}">
													<f:convertDateTime pattern="d.M.yy"/>
												</h:outputText>
											</h:panelGroup>

											<h:panelGroup rendered="#{bundle.validTo==null}">
												<h:outputText value="#{message['inactive']}"/>
											</h:panelGroup>

										</td>
									</tr>
								</table>
							</div>

							<table class="tips">
								<tr>
									<th>Sponozorovany tip</th>
									<th>Sekce</th>
									<th>Stav</th>
									<th>Akce</th>
								</tr>

								<ui:repeat value="#{bundle.advertEntityList}" var="advert">
									<tr>
										<td>hello</td>
										<td>1</td>
										<td>2</td>
										<td>3</td>
									</tr>
								</ui:repeat>

								<ui:repeat value="#{bundle.advertSpacer}" var="s">
									<tr>
										<td class="tip">
											<div class="image"></div>
											<div class="text">
												<h1>
													Lorem ipsum dolor sit amet
												</h1>

												<p>
													Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent dictum convallis ornare.
												</p>
											</div>
											<div class="clear"/>
										</td>
										<td class="section">&nbsp;</td>
										<td class="state">&nbsp;</td>
										<td class="action">
											<p:commandButton value="#{message['new-advert']}" action="#{advertController.createNewAdvert}" styleClass="kamoska_button light-green">
												<f:setPropertyActionListener value="#{bundle}" target="#{advertBundleModel.currentItem}" />
											</p:commandButton>
										</td>

									</tr>
								</ui:repeat>

							</table>

						</div>
						<p:spacer height="20px"/>
					</ui:repeat>
				</h:panelGroup>

				<div class="clear"/>

				<p:commandButton action="#{advertBundleController.createEmptyAdvertBundle(loggedInPartner.partner)}"
								 styleClass="kamoska_button green small"
								 value="#{message['add-advert-group']}" update="errors bundle-list"/>

			</h:form>

			<p:spacer height="50px"/>

		</ui:define>


	</ui:composition>

</h:body>

</html>
